{% macro render_institution_form(institution, countries) %}
    Institution name: <input type="text" name="institution_name" value="{{ institution.name }}" autofocus="autofocus" required="required" />
    <i>(e.g. Institute for Astronomy)</i>
    <br />
    Organization:
    <input type="text" name="organization" value="{{ institution.organization }}" />
    <i>(e.g. University of Anytown, if applicable)</i>
    <br />
    Address:
    <textarea name="address">{{ institution.address }}</textarea>
    <br />
    Country:
    <select name="country_code">
        {% for (country_code, country_name) in countries.items() %}
            <option value="{{ country_code }}" {{ 'selected="selected"' | safe if country_code == institution.country }}>{{ country_name }}</option>
        {% endfor %}
    </select>
{% endmacro %}

{% macro _institution_summary(name, organization, country) %}
    {{ name }},
    {% if organization %}
        {{ organization }},
    {% endif %}
    {{ country }}
{% endmacro %}

{% macro render_institution_summary(institution) %}
    {{ _institution_summary(institution.name, institution.organization, institution.country) }}
{% endmacro %}

{% macro render_member_institution(member) %}
    {{ _institution_summary(member.institution_name, member.institution_organization, member.institution_country) }}
{% endmacro %}
